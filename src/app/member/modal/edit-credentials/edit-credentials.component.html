<div class="modal-header">
  <h5 class="modal-title text-center">{{title}}</h5>
  <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body align-items-center">

  <form [formGroup]="credentialsForm" (ngSubmit)="onSubmit()">
    <div class="form-row mt-3">
      <div class="form-group col mx-4">
        <input #pseudo type="text" formControlName="pseudo" class="form-control d-inline" placeholder="* Pseudonyme"
          maxlength=20 (keydown)="checkPseudoInput($event)" data-toggle="tooltip" [title]="pseudoTooltip" autofocus autocomplete="off"/>
        <div class="alert alert-danger my-1 p-1"
          *ngIf="(formControls.pseudo.touched || formControls.pseudo.dirty) && formControls.pseudo.invalid">
          <div *ngIf="formControls.pseudo.errors.required">Saisissez votre pseudo.</div>
          <div *ngIf="formControls.pseudo.errors.pattern">Format incorrect ou caractère non permis.</div>
          <div *ngIf="formControls.pseudo.errors.maxlength">Le pseudonyme ne peut dépasser 20 caractères.</div>
        </div>
        <div class="alert alert-danger my-1 p-1" *ngIf="updateStatus.pseudoUnavailable">Le pseudonyme est déjà utilisé.
        </div>
      </div>
    </div>
    <div class="form-row mt-2">
      <div class="form-group col mx-4">
        <input type="password" formControlName="password" class="form-control" placeholder="Mot de passe" maxlength=30 [tooltip]="passwordToolTip"/>
        <div *ngIf="(formControls.password.touched || formControls.password.dirty) && formControls.password.invalid"
          class="alert alert-danger my-1 p-1">
          <div *ngIf="formControls.password.errors.required">Saisissez un mot de passe.</div>
          <div *ngIf="formControls.password.errors.strength">Le mot de passe n'est pas assez balèze.</div>
        </div>
      </div>
      <ng-template #passwordToolTip>
        <span>Au moins 8 caractères et 3 des caractéristiques suivantes:</span>
        <li>une mininuscule</li>
        <li>une majuscule</li>
        <li>un chiffre</li>
        <li>un caractère spécial: !@#$%&*_+-=?</li>
      </ng-template>
    </div>
    <div class="form-row mt-3">
      <div class="form-group col mx-4">
        <input type="password" formControlName="confirmPassword" class="form-control"
          placeholder="Confirmation du mot de passe" maxlength=30 />
        <div
          *ngIf="(formControls.confirmPassword.touched || formControls.confirmPassword.dirty) && formControls.confirmPassword.invalid"
          class="alert alert-danger my-1 p-1">
          <div *ngIf="formControls.confirmPassword.errors.required">Il faut confirmer le mot de passe.</div>
          <div *ngIf="formControls.confirmPassword.errors.mustMatch">Ce mot de passe est différent.</div>
        </div>
      </div>
    </div>
    <div class="row mx-4">
      <div *ngIf="noModification && submitted" class="alert alert-info my-1 p-1">Aucune modification.</div>
    </div>

    <div class="row mx-4">
      <button type="submit" class="btn btn-primary col mt-4" [disabled]="credentialsForm.invalid">J'envoie
      </button>
    </div>
    <div class="row mx-4">
      <button type="button" class="btn btn-outline-info col mt-4" (click)="reinitForm()">Je réinitialise
      </button>
    </div>

  </form>


</div>
<div class="modal-footer"></div>
